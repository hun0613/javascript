<html>
    <head>
        <title>object</title>
    </head>
    <body>
        <script>

            // 객체
            // 객체 정의방법 1
            var grade = {
                'park' : 10,
                'kim' : 40,
                'lee' : 60
            };

            /*
            var object = {
                'key' : value
            }
            */


            // 객체 정의방법 2
            var grade2 = {};
            grade2['park'] = 10;
            grade2['kim'] = 40;
            grade2['lee'] = 60;



            // 객체 정의방법 3
            var grade3 = new Object();
            grade3['park'] = 10;
            grade3['kim'] = 40;
            grade3['lee'] = 60;


            // 객체 호출
            // alert(grade3.park);
            // alert(grade3['ki' + 'm']);


            /*
            배열과 객체의 차이점
                - 배열 : 순서가 있음
                - 객체 : 순서가 없음
            */


            // 객체와 반복문
            // var grades = {'kim' : 10, 'lee' : 40, 'park' : 60};
            // for(key in grades){
            //     document.write('<li> key : ' + key + ', value : ' + grades[key] + '</li>');
            // }



            // 객체 내 함수호출
            /*
                grades 객체 안에 score 객체와 show 객체를 생성
                    - score객체 안에 학생들의 점수 생성
                    - show객체에 각 학생들의 점수를 보여주는 함수를 생성
                        - 학생이름이나 옵션(all)을 사용자로부터 입력받는다. (입력창에 옵션에 대한 설명 출력)
                            - 만약 사용자가 all을 입력했다면,
                                - for문을 사용하여 객체 안에 있는 모든 학생의 이름과 성적 출력
                            - 그렇지 않다면,
                                - 입력받은 학생이름과 해당하는 점수 출력
            */
            var grades = {
                'score' : {
                    'kim' : 75,
                    'lee' : 84,
                    'park' : 97
                },

                'show' : function(){
                    option = prompt('학생의 이름을 입력하세요.\n' + '*참고*\n 전체 학생의 성적확인은 "all"이라고 입력하세요.');
                    if (option == 'all'){
                        for(key in this.score){
                            document.write('<p>이름 : ' + key + '<br/>성적 : ' + this.score[key] + '<br/><br/>');
                        }
                    }
                    else{
                        document.write('<p>이름 : ' + option + '<br/>성적 : ' + this.score[option] + '<br/><br/>');
                    }
                }
            };



            grades['show']();
            grades.show();



            /*
                기능 추가 : 만약 사용자가 입력한 값이 객체 내에 없을 경우 '이름이 올바르지 않습니다.' 출력 후 다시 함수 호출

                grades 객체 안에 score 객체와 show 객체를 생성
                    - score객체 안에 학생들의 점수 생성
                    - show객체에 각 학생들의 점수를 보여주는 함수를 생성
                        - 학생이름이나 옵션(all)을 사용자로부터 입력받는다. (입력창에 옵션에 대한 설명 출력)
                            - 만약 사용자가 all을 입력했다면,
                                - for문을 사용하여 객체 안에 있는 모든 학생의 이름과 성적 출력
                            - 만약 사용자가 score 객체 안에 있는 이름을 입력했다면,
                                - 입력받은 학생이름과 해당하는 점수 출력
                            - 그렇지 않다면,
                                - '이름이 올바르지 않습니다.' 출력 후 다시 함수 호출

            */

            var grades = {
                'score' : {
                    'kim' : 75,
                    'lee' : 84,
                    'park' : 97
                },

                'show' : function(){
                    option = prompt('학생의 이름을 입력하세요.\n' + '*참고*\n전체 학생의 성적확인은 "all"이라고 입력하세요.');
                    if (option == 'all'){
                        for(key in this.score){
                            document.write('<p>이름 : ' + key + '<br/>성적 : ' + this.score[key] + '<br/><br/>');
                        }
                    }
                    else if(option in this.score){
                        document.write('<p>이름 : ' + option + '<br/>성적 : ' + this.score[option] + '<br/><br/>');
                    }
                    else{
                        // alert('이름이 올바르지 않습니다.\n다시 입력하십시오.');
                        // this.show();
                        var result = confirm('이름이 올바르지 않습니다.\n다시 입력하시겠습니까?');
                        if (result == true){
                            this.show();
                        }

                    }
                    // else부에서 '취소' 버튼을 눌렀는데도 불구하고, 다시 함수가 호출되는 에러발생
                    // 해결! : alert는 경고창 그 자체이므로 true, false의 개념이 없다. -> confirm을 사용하여 결과값을 변수에 저장하여 조건에 맞게 코딩                     
                }
            };


            grades.show();


        </script>

    </body>
</html>